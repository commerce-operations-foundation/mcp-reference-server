/**
 * Adapter Factory
 */
import { IFulfillmentAdapter, AdapterConfig, AdapterConstructor } from '../types/index.js';
/**
 * Factory for creating and managing adapter instances
 * Supports built-in, NPM, and local adapters with singleton pattern
 *
 * SECURITY WARNING:
 * This factory supports dynamic loading of adapters from NPM packages and local files.
 * Dynamic imports execute code with full system permissions. Only load adapters from
 * trusted sources. In production environments, consider:
 * - Using a whitelist of allowed adapter packages
 * - Running the MCP server in a containerized environment
 * - Implementing code signing for adapters
 * - Using Node.js permission flags to restrict file/network access
 *
 * For development and reference implementation use, the current approach provides
 * maximum flexibility for adapter developers.
 */
export declare class AdapterFactory {
    private static instances;
    private static builtInAdapters;
    /**
     * Register a built-in adapter
     */
    static registerBuiltInAdapter(name: string, adapterClass: AdapterConstructor): void;
    /**
     * Create or retrieve adapter instance
     */
    static createAdapter(config: AdapterConfig): Promise<IFulfillmentAdapter>;
    /**
     * Create built-in adapter
     */
    private static createBuiltInAdapter;
    /**
     * Create NPM adapter
     *
     * SECURITY NOTE: This method uses dynamic imports which could potentially load
     * any NPM package. Only use trusted adapter packages. In production environments,
     * consider implementing a whitelist of allowed packages.
     */
    private static createNpmAdapter;
    /**
     * Create local adapter
     *
     * SECURITY NOTE: This method loads JavaScript files from the filesystem using
     * dynamic imports. Only load adapter files from trusted sources. The loaded
     * code will have full access to your system with the same permissions as this
     * MCP server. Never load adapters from untrusted sources or user uploads.
     */
    private static createLocalAdapter;
    /**
     * Validate adapter implements required interface
     */
    private static validateAdapter;
    /**
     * Generate cache key for adapter configuration
     */
    private static getCacheKey;
    /**
     * List available built-in adapters
     */
    static getAvailableAdapters(): string[];
    /**
     * Get existing adapter instance by config
     */
    static getInstance(config: AdapterConfig): IFulfillmentAdapter | undefined;
    /**
     * Remove adapter instance from cache
     */
    static removeInstance(config: AdapterConfig): Promise<void>;
    /**
     * Clear all adapter instances (for testing)
     */
    static clearInstances(): Promise<void>;
}
//# sourceMappingURL=adapter-factory.d.ts.map